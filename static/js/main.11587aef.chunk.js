(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(e,t,i){},38:function(e,t,i){},65:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),c=i(32),l=i.n(c),a=(i(38),i(14)),r=i(15),j=i(18),d=i(17),o=i(8),u=i.n(o),b=(i(12),i(4)),m=i(2),f=i(10),h=i(16),O=i.n(h),x=(i(58),i(0));var p=function(e){var t,i,n,c=e.match,l=Object(s.useState)([]),a=Object(f.a)(l,2),r=a[0],j=a[1],d=Object(s.useState)([]),o=Object(f.a)(d,2),m=o[0],h=o[1],p=Object(s.useState)([]),v=Object(f.a)(p,2),g=v[0],N=v[1],y=c.params.id;Object(s.useEffect)((function(){u()({method:"GET",url:"http://127.0.0.1:8000/api/films/".concat(y,"/")}).then((function(e){j(e.data)}))}),[y]),Object(s.useEffect)((function(){u()({method:"GET",url:"http://127.0.0.1:8000/api/genres/"}).then((function(e){h(e.data)}))})),Object(s.useEffect)((function(){u()({method:"GET",url:"http://127.0.0.1:8000/api/countries/"}).then((function(e){N(e.data)}))}));var R=O()(r.premiereRu).lang("ru").format("DD MMMM YYYY"),E=O()(r.premiereWorld).lang("ru").format("DD MMMM YYYY");null===r.ratingAgeLimits&&(r.ratingAgeLimits="0"),null===r.budget&&(r.budget="-"),null===r.grossRu&&(r.grossRu="0"),null===r.grossWorld&&(r.grossWorld="0"),null===r.premiereRu&&(R="-"),null===r.premiereWorld&&(E="-");var T=null===(t=r.staff)||void 0===t?void 0:t.filter((function(e){return"ACTOR"===e.professionKey})),F=null===(i=r.genres)||void 0===i?void 0:i.map((function(e,t){return e.title+(t!=r.genres.length-1?",":"")})),C=null===(n=r.countries)||void 0===n?void 0:n.map((function(e,t){return e.title+(t!=r.countries.length-1?",":"")}));return Object(x.jsxs)("div",{className:"film-details font-style",children:[Object(x.jsxs)("div",{className:"poster-details",children:[Object(x.jsx)("img",{src:r.image}),Object(x.jsxs)("p",{className:"ageLimit-poster",children:[r.ratingAgeLimits,"+"]})]}),Object(x.jsxs)("div",{className:"film-info",children:[Object(x.jsx)("div",{className:"info-header",children:Object(x.jsxs)("div",{children:[Object(x.jsxs)("h1",{children:[r.name," (",r.year,")"]}),Object(x.jsx)("h2",{className:"film-slogan",children:r.slogan})]})}),Object(x.jsx)("h2",{children:"\u041e \u0444\u0438\u043b\u044c\u043c\u0435"}),Object(x.jsxs)("p",{children:["\u0413\u043e\u0434 \u0432\u044b\u043f\u0443\u0441\u043a\u0430: ",r.year]}),Object(x.jsxs)("div",{className:"film-countries-genres",children:[Object(x.jsxs)("ul",{className:"film-list",children:["\u0421\u0442\u0440\u0430\u043d\u0430: ",null===C||void 0===C?void 0:C.map((function(e,t){return Object(x.jsx)("li",{className:"list-item",children:e},t)}))]}),Object(x.jsxs)("ul",{className:"film-list",children:["\u0416\u0430\u043d\u0440: ",null===F||void 0===F?void 0:F.map((function(e,t){return Object(x.jsx)("li",{className:"list-item",children:e},t)}))]})]}),Object(x.jsxs)("p",{children:["\u041f\u0440\u0435\u043c\u044c\u0435\u0440\u0430 \u0432 \u043c\u0438\u0440\u0435: ",E]}),Object(x.jsxs)("p",{children:["\u041f\u0440\u0435\u043c\u044c\u0435\u0440\u0430 \u0432 \u0420\u043e\u0441\u0441\u0438\u0438: ",R]}),Object(x.jsxs)("p",{children:["\u0411\u044e\u0434\u0436\u0435\u0442: ",r.budget]}),Object(x.jsxs)("p",{children:["\u0421\u0431\u043e\u0440\u044b \u0432 \u043c\u0438\u0440\u0435: $",r.grossWorld]}),Object(x.jsxs)("p",{children:["\u0421\u0431\u043e\u0440\u044b \u0432 \u0420\u043e\u0441\u0441\u0438\u0438: $",r.grossRu]}),Object(x.jsxs)("p",{children:["\u0412\u0440\u0435\u043c\u044f: ",r.filmLength]})]}),Object(x.jsxs)("div",{className:"film-rating",children:[Object(x.jsx)("h1",{children:r.rating}),Object(x.jsx)("input",{type:"radio",id:"star-10",name:"rating",value:"10"}),Object(x.jsx)("label",{htmlFor:"star-10",title:"10"}),Object(x.jsx)("input",{type:"radio",id:"star-9",name:"rating",value:"9"}),Object(x.jsx)("label",{htmlFor:"star-9",title:"9"}),Object(x.jsx)("input",{type:"radio",id:"star-8",name:"rating",value:"8"}),Object(x.jsx)("label",{htmlFor:"star-8",title:"8"}),Object(x.jsx)("input",{type:"radio",id:"star-7",name:"rating",value:"7"}),Object(x.jsx)("label",{htmlFor:"star-7",title:"7"}),Object(x.jsx)("input",{type:"radio",id:"star-6",name:"rating",value:"6"}),Object(x.jsx)("label",{htmlFor:"star-6",title:"6"}),Object(x.jsx)("input",{type:"radio",id:"star-5",name:"rating",value:"5"}),Object(x.jsx)("label",{htmlFor:"star-5",title:"5"}),Object(x.jsx)("input",{type:"radio",id:"star-4",name:"rating",value:"4"}),Object(x.jsx)("label",{htmlFor:"star-4",title:"4"}),Object(x.jsx)("input",{type:"radio",id:"star-3",name:"rating",value:"3"}),Object(x.jsx)("label",{htmlFor:"star-3",title:"3"}),Object(x.jsx)("input",{type:"radio",id:"star-2",name:"rating",value:"2"}),Object(x.jsx)("label",{htmlFor:"star-2",title:"2"}),Object(x.jsx)("input",{type:"radio",id:"star-1",name:"rating",value:"1"}),Object(x.jsx)("label",{htmlFor:"star-1",title:"1"})]}),Object(x.jsxs)("div",{className:"film-actors",children:[Object(x.jsx)("h3",{children:"\u0412 \u0433\u043b\u0430\u0432\u043d\u044b\u0445 \u0440\u043e\u043b\u044f\u0445"}),Object(x.jsxs)("div",{children:[Object(x.jsx)("ul",{className:"actors",children:null===T||void 0===T?void 0:T.map((function(e,t){if(t<10)return Object(x.jsx)("div",{className:"actors-item",children:Object(x.jsx)("p",{children:Object(x.jsx)(b.b,{className:"actor",to:{pathname:"/staff/".concat(e.id,"/")},children:e.nameRu})})},e.id)}))}),Object(x.jsx)(b.b,{id:"others",to:{pathname:"/films/".concat(r.id,"/staff")},children:"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0430\u043a\u0442\u0451\u0440\u044b"},r.id)]})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"genres",children:[Object(x.jsx)("ul",{className:"actors",children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(x.jsx)("div",{className:"actors-item",children:Object(x.jsx)("p",{children:Object(x.jsx)(b.b,{className:"actor",to:{pathname:"/genres/".concat(e.slug,"/")},children:e.title})})},e.id)}))}),Object(x.jsx)("ul",{className:"actors",children:null===g||void 0===g?void 0:g.map((function(e,t){return Object(x.jsx)("div",{className:"actors-item",children:Object(x.jsx)("p",{children:Object(x.jsx)(b.b,{className:"actor",to:{pathname:"/countries/".concat(e.slug,"/")},children:e.title})})},e.id)}))})]})})]})};var v=function(){var e=Object(s.useState)([]),t=Object(f.a)(e,2),i=t[0],n=t[1];return Object(s.useEffect)((function(){u()({method:"GET",url:"http://127.0.0.1:8000/api/films/"}).then((function(e){n(e.data)}))}),[]),Object(x.jsx)("div",{className:"main-page font-style",children:Object(x.jsx)("div",{className:"films",children:i.map((function(e){var t;return Object(x.jsx)("div",{className:"films-item",children:Object(x.jsxs)(b.b,{to:{pathname:"/films/".concat(e.id,"/")},children:[Object(x.jsx)("div",{className:"poster-main",children:Object(x.jsx)("img",{src:e.image,className:"img"})}),Object(x.jsxs)("div",{className:"film-description",children:[Object(x.jsxs)("div",{id:"film-title",children:[Object(x.jsx)("p",{id:"genre",children:null===(t=e.genres[0])||void 0===t?void 0:t.title}),Object(x.jsx)("p",{id:"year",children:e.year})]}),Object(x.jsx)("div",{id:"name",children:Object(x.jsx)("p",{children:e.name})})]})]})},e.id)}))})})},g=function(e){Object(j.a)(i,e);var t=Object(d.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return Object(x.jsx)("nav",{className:"navbar font-style",children:Object(x.jsxs)("ul",{className:"navbar-items",children:[Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{to:{pathname:"/films/"},children:Object(x.jsx)("div",{className:"logo",children:Object(x.jsx)("img",{src:"/assets/logo.svg"})})})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{className:"link",to:{pathname:"/films/"},children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{className:"link",to:{pathname:"/films/"},children:"\u0421\u0435\u0440\u0438\u0430\u043b\u044b"})}),Object(x.jsx)("li",{children:Object(x.jsx)(b.b,{className:"link",to:{pathname:"/films/"},children:"\u0424\u0438\u043b\u044c\u043c\u044b"})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{className:"search-txt",type:"search",name:"",placeholder:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(x.jsx)("a",{className:"search-btn",href:"#"})]}),Object(x.jsx)("li",{className:"search-box"})]})})}}]),i}(s.Component);var N=function(e){var t,i,n,c,l,a,r,j,d,o,b,m=e.match,h=Object(s.useState)([]),O=Object(f.a)(h,2),p=O[0],v=O[1],g=m.params.id;Object(s.useEffect)((function(){u()({method:"GET",url:"http://127.0.0.1:8000/api/films/".concat(g,"/")}).then((function(e){v(e.data)}))}),[g]),console.log(p.staff);var N,y=null===(t=p.staff)||void 0===t?void 0:t.filter((function(e){return"ACTOR"===e.professionKey})),R=(null===(i=p.staff)||void 0===i||i.filter((function(e){return"WRITER"===e.professionKey})),null===(n=p.staff)||void 0===n||n.filter((function(e){return"OPERATOR"===e.professionKey})),null===(c=p.staff)||void 0===c||c.filter((function(e){return"EDITOR"===e.professionKey})),null===(l=p.staff)||void 0===l||l.filter((function(e){return"COMPOSER"===e.professionKey})),null===(a=p.staff)||void 0===a?void 0:a.filter((function(e){return"TRANSLATOR"===e.professionKey}))),E=null===(r=p.staff)||void 0===r?void 0:r.filter((function(e){return"DIRECTOR"===e.professionKey}));if(null===(j=p.staff)||void 0===j||j.filter((function(e){return"DESIGN"===e.professionKey})),null===(d=p.staff)||void 0===d||d.filter((function(e){return"VOICE_DIRECTOR"===e.professionKey})),!0===(null===(o=p.countries)||void 0===o?void 0:o.includes("\u0421\u0421\u0421\u0420")))var T,F=null===(T=p.staff)||void 0===T?void 0:T.filter((function(e){return"PRODUCER_USSR"===e.professionKey}));else F=null===(N=p.staff)||void 0===N?void 0:N.filter((function(e){return"PRODUCER"===e.professionKey}));return Object(x.jsxs)("div",{className:"film-staff font-style",children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:p.name})}),Object(x.jsxs)("div",{className:"film-directors",children:[Object(x.jsx)("h3",{children:"\u0420\u0435\u0436\u0438\u0441\u0441\u0451\u0440\u044b"}),null===E||void 0===E?void 0:E.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:e.nameRu})},e.id)}))]}),Object(x.jsxs)("div",{className:"film-staff",children:[Object(x.jsx)("h3",{children:"\u0410\u043a\u0442\u0451\u0440\u044b"}),null===y||void 0===y?void 0:y.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:e.nameRu})},e.id)}))]}),Object(x.jsxs)("div",{className:"film-producers",children:[Object(x.jsx)("h3",{children:"\u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440\u044b"}),null===(b=F)||void 0===b?void 0:b.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:e.nameRu})},e.id)}))]}),Object(x.jsxs)("div",{className:"film-producers",children:[Object(x.jsx)("h3",{children:"\u041f\u0440\u043e\u0434\u044e\u0441\u0435\u0440\u044b"}),null===R||void 0===R?void 0:R.map((function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:e.nameRu})},e.id)}))]})]})};"http://localhost:3000"===window.location.origin&&(u.a.defaults.baseURL="http://127.0.0.1:8000/api/films/");var y=function(e){Object(j.a)(i,e);var t=Object(d.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(r.a)(i,[{key:"render",value:function(){return Object(x.jsxs)(b.a,{children:[Object(x.jsx)(g,{}),Object(x.jsxs)(m.c,{children:[Object(x.jsx)(m.a,{path:"/films/:id/",exact:!0,component:p}),Object(x.jsx)(m.a,{path:"/films/",exact:!0,component:v}),Object(x.jsx)(m.a,{path:"/films/:id/staff",exact:!0,component:N}),Object(x.jsx)(m.a,{component:v})]})]})}}]),i}(s.Component),R=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,66)).then((function(t){var i=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,l=t.getTTFB;i(e),s(e),n(e),c(e),l(e)}))};l.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(y,{})}),document.getElementById("root")),R()}},[[65,1,2]]]);
//# sourceMappingURL=main.11587aef.chunk.js.map